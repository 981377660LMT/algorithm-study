# 高性能 ES2015 及其未来：为了“原生”正名

# High-performance ES2015 and beyond: Making modern JS fast

这是一篇奠定现代 JS 引擎优化方向的核心文献，解释了为什么 Babel 不应该是终点。

### 1. 核心矛盾：转译带来的“性能债务”

开发者喜欢 ES6，但为了兼容旧引擎，往往使用 Babel 将其转译为 ES5。
V8 指出：转译生成的代码（如冗长的 `_extends` 实现）对于引擎来说其实更难猜测其意图。如果引擎原生支持这些特性，可以直接通过生成特定的字节码指令来优化。

### 2. Ignition + TurboFan 的降维打击

旧引擎（Crankshaft）看到 `for...of` 和 `try-catch` 就放弃优化。
新流水线直接将 ES6 语法映射为底层的 Sea-of-Nodes 节点。通过这种“去脱糖化”（De-sugaring），解构赋值、剩余参数等特性的性能获得了与普通变量访问同级别的机器指令。

### 3. 抹平差距

文章展示了如何通过引擎优化，让原生 ES6 属性查找、函数调用速度不仅追平、甚至超越经过高度转译优化的 ES5 代码。

### 4. 一针见血的见解

这篇文章是一份宣言：**请拥抱原生 ES6**。V8 告诉开发者，过度依赖构建工具（build tools）可能会掩盖引擎能够实现的极致性能。原生支持不仅意味着更小的文件体积，更意味着能触碰到 CPU 的热点边界。
