# 精简版 V8：低内存环境下的求生之路

# A lighter V8: Strategies for memory-constrained devices

V8 Lite 是为物联网和入门级智能手机（512MB RAM）量身定制的演进方向。

### 1. 核心策略：延迟字节码刷新 (Lazy Bytecode Flushing)

在内存受限的环境中，即便是一次执行完的初始化代码（Bytecode），长期驻存在堆中也是一种奢侈。V8 现在可以根据内存压力，在 GC 期间自动丢弃此时不在调用栈上的函数字节码。如果后续再次调用，则重新从源码解析。

### 2. 移除优化编译器 (Disabled JIT layering)

V8 Lite 允许在极端情况下彻底禁用 TurboFan 编译器。这意味着不再产生庞大的优化向量和反馈记录，虽然损失了高强度的计算性能，但内存占用能整体下降 20% 以上。

### 3. 解除冗余记录

V8 优化了其内部的反馈收集机制。通过对“非热点”代码使用更廉价的元数据结构，甚至是仅在出错时才生成的 Source Position Table，进一步压缩了内存足迹。

### 4. 一针见血的见解

V8 不再只是“性能怪兽”，它正变得更加“普适”。V8 Lite 的核心贡献在于让原本只能在 PC 上流畅运行的现代 JS 特性，能在极低成本的硬件上稳定运行，这对 JS 拓展生态边界（如智能家居设备）至关重要。
