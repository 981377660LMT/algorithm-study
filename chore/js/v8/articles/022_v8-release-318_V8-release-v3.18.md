# 全局价值编号：消除冗余的冗余

# V8 release v3.18: GVN and for-in loop resilience

### 1. 全局数值编号 (GVN) 的强化

**Hydrogen 优化器** 的 GVN 能够在作用域内识别并删除重复计算。
例如，在循环中你多次访问同一个不可变数组的 `length` 属性，GVN 会将其“折叠”为一个寄存器操作，而不是在每次循环迭代时都去内存里扒拉一次。这对于现代复杂的、经常需要嵌套属性访问的代码流非常有益。

### 2. `for-in` 的弹性优化

改进了 `for-in` 循环在处理具有复杂原型链或频繁变换隐藏类对象时的弹性，减少了枚举属性时的性能剧减（Performance Cliff）。

### 3. 一针见血的见解

编译器不再只是照本宣科地翻译代码，它开始学会从全局理解开发者的意图。GVN 的强化标志着 V8 正在消除由于 JavaScript 语言本身的“动态防御性”（即你不得不动态检查一切）而产生的冗余指令积压。
