# 启动速度的奥秘：JSON 与对象键的索引缓存

# V8 release v3.23: Object.keys and JSON parsing performance

### 1. JSON 解析：从文本到隐藏类的同步映射

在处理大体积 JSON 数据时，`JSON.parse` 的瓶颈往往不在于解析字符，而在于创建对应的 JS 对象及其隐藏类（Transitions）。
v3.23 引入了“属性索引缓存”。在解析过程中，V8 会预测后续可能出现的键名，并复用已有的 **Hidden Classes (Maps)**，将键值对直接写到对象预留的偏移量中，极大地减少了散列表的查找开销。

### 2. `Object.keys` 的极速路径

通过优化迭代内部数组（Elements）的逻辑，`Object.keys` 在热点代码中变得极快。它不再需要构建临时的中间结构，而是直接读取对象的隐藏类及其描述符数组。

### 3. 一针见血的见解

对于首屏加载（尤其是在移动端），解析 JSON 就是启动速度。V8 通过将文本解析与隐藏类生成深度同步，解决了现代 SPA 应用中由于数据初始化过大导致的首屏阻塞问题。
