# 垃圾回收的并行革命：后台清扫

# V8 release v3.21: Concurrent Sweeping and Orinoco milestone

这是 **Orinoco GC 项目** 落地过程中的一个重大里程碑。

### 1. 并发清扫 (Concurrent Sweeping)

在传统的 Mark-Sweep 算法中，清扫阶段通常需要 STW（Stop-The-World）。
v3.21 引入了后台清扫线程。当主线程由于需要执行 JS 而恢复运行后，清扫还在继续清除那些已经被标记为“垃圾”的内存页面。这种并发性通过多核 CPU 的力量，将 GC 引起的平均停顿时间缩短了 20% 到 50%。

### 2. 内存碎片化控制

随着并发清扫的引入，V8 对内存页的管理变得更加灵活。引擎可以更积极地释放不再包含存活对象的页面给操作系统，显著降低了常驻内存。

### 3. 一针见血的见解

垃圾回收不再是主线程的单打独斗。V8 从此正式迈向了多线程协作管理的现代内存管理架构。它是通过“空间换时间”的并行调度，彻底终结了“GC 卡顿时代”的开端。
