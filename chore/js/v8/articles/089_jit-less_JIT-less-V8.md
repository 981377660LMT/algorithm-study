# 无 JIT 的 V8：安全与性能的极简权衡

# JIT-less V8: Security and performance trade-offs

在特定安全环境下，V8 能够完全放弃其最引以为傲的优化编译器 TurboFan。

### 1. 核心限制：不可执行内存

在许多平台上（如 iOS 或是开启了 W^X 安全限制的沙盒），动态生成可执行代码是被严厉禁止的。JIT-less 模式允许 V8 在不通过 `mmap` 分配 RWX 权限内存的前提下运行 JS，仅依赖预编译的代码和 Ignition 解释器。

### 2. 引擎行为的转变

- **Ignition 为王**：所有的逻辑都通过解析字节码运行。
- **正则解释化**：由于 Irregexp 无法再实时 JIT，正则匹配也切换到了专门的非 JIT 解释器模式。
- **性能滑坡**：失去了 TurboFan 的类型特化优化（Type-specialization），JIT-less 的性能通常比完整模式低 40%-50%，但在简单的交互场景下依然表现得体。

### 3. 应用场景

除了 iOS 系统外，这一模式也非常适合极度重视内存防泄露和抗攻击能力的嵌入式核心组件。

### 4. 一针见血的见解

JIT-less V8 的存在证明了 Ignition 解释器的强大。即使没有了 JIT，V8 依然比许多小型的 JS 解释器要快，因为它拥有全世界最先进的内联缓存（IC）机制。
