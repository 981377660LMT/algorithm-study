# V8 v5.1 发布：黑色分配与 Wasm 曙光

# V8 release v5.1: Black Allocation and early WebAssembly

V8 v5.1 为垃圾回收的智能化和多语言计算的融合奠定了基础。

### 1. 垃圾回收优化：黑色分配 (Black Allocation)

这是 Orinoco 项目对增量标记的一项重大改进。如果一个新对象在 GC 增量标记期间被创建到老生代，V8 会直接将其标记为“黑色”（即假设它是存活的）。
**收益：** 这让 GC 线程在随后的标记循环中无需再反复检查这些新对象，极大减少了标记阶段的重复劳动，尤其是在对象频繁创建的热点代码中。

### 2. WebAssembly (Wasm) 的开端

首次提供了将 `asm.js` 代码验证并转换为 WebAssembly 内部模型的能力。虽然还是实验性的，但它预示了 V8 即将进入一个能够原生处理多种语言字节码的高级阶段。

### 3. 一针见血的见解

v5.1 体现了 V8 在应对“大规模应用”时的敏锐度。通过 Black Allocation 减少标记负担，V8 展现了其应对高吞吐量写操作时的鲁棒性；而 Wasm 的引入，则标志着 V8 即将超越单纯的 JS 引擎定位。
