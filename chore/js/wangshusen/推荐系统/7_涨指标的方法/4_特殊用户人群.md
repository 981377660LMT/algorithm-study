这节课的内容是特殊对待特殊的用户人群，比如新用户和低活用户。具体介绍 3 大类方法：

1. 构造特殊内容池，用于特殊用户人群的召回。
2. 使用特殊排序策略，保护特殊用户。
3. 使用特殊的排序模型，消除模型预估的偏差。

---

这节课是王树森老师“推荐系统涨指标”系列的第五篇，从**特殊用户人群 (Special User Groups)** 的视角切入。
工业界数据表明，**新用户 (New Users)** 和 **低活用户 (Low-active/Resurrected Users)** 是大盘增长的关键，也是最容易流失的群体。粗暴地将它们与老用户一视同仁，往往效果不佳。

以下是对这节课内容的深度逻辑拆解与总结：

### 1. 为什么需要特殊对待？

- **数据稀疏 (Data Sparsity)**：新/低活用户的历史行为极少，导致个性化召回（双塔）和排序模型预估极不准确。
- **目标不同 (Different Goals)**：对活跃用户我们关注消费（时长、广告），对新用户我们只关注**留存 (Retention)**。只要能留下来，哪怕没看广告也没关系。
- **分布偏差 (Distribution Shift)**：全量模型是被高活用户（主流人群）主导的，直接用到边缘人群上会有 Bias（预估偏差）。

### 2. 策略一：召回侧 —— 构造特殊内容池 (Special Content Pools)

既然个性化做不准，那就用**“高质量”**来弥补**“低精准”**。

- **构造逻辑**：
  - 圈定目标人群（如 18-25 岁 一二线城市男性）。
  - 统计该人群对物品的**交互率 (Interaction Rate)** 和 **交互次数**。
  - 选出该人群最喜欢的一批高分物品（如游戏、数码），构建一个小型精品池。
  - _进阶_：利用**因果推断 (Causal Inference)** 筛选出对“留存”有显著正向贡献的物品。
- **模型实现**：
  - 即使是特殊内容池，也可以用双塔模型来做检索。
  - **算力成本**：
    - 训练：与主模型共享，不增加训练成本。
    - 推理：每多一个池子，多一份 ANN 索引和检索开销（但因池子小，开销可控）。

### 3. 策略二：排序侧 —— 保护策略 & 差异化公式

目标是**呵护**这些脆弱的用户，避免“劝退”。

- **排除低质/商业化内容**：
  - **少出或不出广告**。
  - **不参与新物品探索 (No Exploration)**：冷启动的新物品往往质量不稳，不要拿新用户当小白鼠。把探索任务交给抗造的老用户。
- **差异化融分公式 (Ranking Formula)**：
  - **提权 CTR**：低活用户极其缺乏点击动力。如果你推的东西他连点都不点，就更别谈留存了。
  - _做法_：大幅提高 $P(Click)$ 的权重，相对降低 $P(Like/Comment)$ 的权重。先诱导点击，再图后续。
  - **Top 1 保送**：将预估 CTR 最高的物品强制排在首位（Top 1），或者前几位保留专用坑位，确保用户第一眼看到的就是最吸引他的。

### 4. 策略三：模型侧 —— 消除预估偏差 (Debias)

如何让被主流人群带偏的模型，在边缘人群上也准？

- **方法 A：残差学习 (Residual Learning)**
  - $$ \text{Final Score} = P*{\text{BigModel}}(u, i) + Q*{\text{SmallModel}}(u, i) $$
  - 大模型 $P$ 用全量数据训练（可能有偏）。
  - 小模型 $Q$ 只用特殊人群数据训练，专门预测残差 $(Y - P)$，起到纠偏作用。
- **方法 B：动态权重 Experts (Gate-based Mixture)**
  - 类似 MMoE 结构。
  - Gate 网络只输入**用户特征**（如是否新用户），输出权重。
  - 如果是新用户，Gate 会给“新用户 Expert”打高分；如果是老用户，给“老用户 Expert”打高分。
- **方法 C：小模型校准 (Calibration)**
  - 先用大模型跑出预估分。
  - 再接一个轻量级模型（如 GBDT），输入是大模型分 + 用户特征，输出校准后的分数。
  - GBDT 只在特殊人群数据上训练。

### 5. 避坑指南：不要维护独立的大模型

**错误做法**：给男性新用户独立训练一个大模型，给女性低活用户又独立训练一个。

- **后果**：
  - 初期可能涨幅显著（因为定制化肯定比通用好）。
  - 后期**维护灾难**。主模型（Main Model）有几十个工程师天天迭代优化，而小众模型无人维护，版本老旧。
  - 最终结果：`没人管的小众模型跑不过持续迭代的主模型`。**“赢了战役，输了战争”**。
- **正确做法**：**One Model for All**，通过加塔、加 Gate、加校准层来适配不同人群，而不是分裂模型。

### 总结

特殊人群优化的核心是**“分而治之”**与**“重点保护”**。

- 在召回侧，用高交互的**热门精品**兜底。
- 在排序侧，用**高 CTR 权重**诱导点击，并**屏蔽广告和冷启动探索**。
- 在模型侧，通过**残差纠偏**或**校准**来修补主模型的偏差。
