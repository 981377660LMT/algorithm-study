# 00\_前言与目录：如何高效学习这本《搜索引擎技术》

这份笔记对应 `00_前言与目录.pdf`，它本身不讲技术细节，但它提供了“全书的系统结构”。对于搜索新手来说，真正的难点往往不是某个算法公式，而是：

- 你要优化的目标到底是什么？（用户满意度如何量化）
- 你在系统链路里究竟改了哪里？（QP/召回/排序/推词等模块之间的边界）
- 每一类问题应该用什么评价指标与实验方法？（离线/线上/人工）

目录把这些问题的答案分散在 1–23 章里。下面我把目录“翻译成一张学习路线图”。

---

## 1. 全书主线：从目标 → 指标 → 方法 → 工程

把整本书看成一个闭环：

1. **目标（用户满意度）**：你要让用户更满意（第 1 章）。
2. **评价（怎么证明更满意）**：线上北极星指标 + 中间过程指标 + 人工评估（第 2 章）。
3. **建模与评估（怎么把问题变成可训练的 ML 任务）**：分类/回归/排序（第 3 章）与离线评估（第 4 章）。
4. **训练方法（NLP 模型怎么训练、怎么变小、怎么上线）**：预训练/后预训练/微调/蒸馏（第 5 章）。
5. **体验因子（什么决定用户体验）**：相关性/内容质量/时效性/地域性/个性化（第 6–10 章）。
6. **查询理解（用户到底想要什么）**：分词/实体/词权重/类目/意图/改写（第 11–15 章）。
7. **召回（怎么把候选找出来）**：倒排索引/文本召回/向量召回/离线召回（第 16–18 章）。
8. **排序（怎么把候选排好）**：融合特征/融合模型/训练方法（第 19–20 章）。
9. **推词（如何在搜索前中后提升转化）**：场景/召回/排序（第 21–23 章）。

**一句话总结**：

> 体验因子 + 查询理解 决定“应该给用户什么”，召回与排序决定“能不能把它找出来并排在前面”，指标与评估决定“你有没有把它做对”。

---

## 2. 新手最容易走偏的 3 个点

### 2.1 把“点击”当成“满意”

目录里第 2 章单独讲了指标，是在提醒你：点击率只是中间过程指标，它可能被“奇技淫巧”提高，但用户未必满意。

新手常犯错：把“CTR ↑”当成唯一目标，最后做出标题党、封面党、甚至插推荐结果冒充搜索的策略。

### 2.2 只学模型，不学链路

你可能会觉得第 3/4 章（ML 任务/离线评价）最“像机器学习”，但搜索是**端到端系统**。

- 你把相关性模型 AUC 做高了，但召回阶段把好文档漏掉，线上体验仍然差。
- 你把排序 NDCG 做高了，但结果页样式/首屏承接不好，用户仍然走。

### 2.3 只有离线，没有线上/人工

离线评估很重要（第 4 章），但它只是“上线前筛选”。最终要回到第 2 章：

- **线上 A/B**：回答“真实用户是否更满意”。
- **人工评估**：回答“点击指标上涨但体验变差”的矛盾。

---

## 3. 推荐学习顺序（按依赖关系，而不是按章节号）

如果你是新手，我更建议：

1. 第 1 章（目标 & 链路）
2. 第 2 章（指标 & 实验）
3. 第 4 章（离线评估：把模型结果解释清楚）
4. 第 6 章（相关性：最核心的体验因子）
5. 第 16 章（倒排索引 + 文本召回：工程骨架）
6. 第 19 章（排序融合：把多信号合成一个最终分）

然后再回头补齐：

- 第 3 章（ML 任务）作为“术语对齐与建模视角”
- 第 5 章（NLP 训练）作为“训练与上线”方法论
- 第 7–10、11–15、17–18、20–23 作为各方向的专项深入

---

## 4. 如何把目录变成你的“工程地图”

如果你未来要做真实项目/实习/面试，我建议你用目录映射出一个搜索系统的模块图：

- **Query 侧**：SUG / QP（11–15）
- **Recall**：倒排索引、文本召回、向量召回、离线召回（16–18）
- **Rank**：粗排/精排/融合（19–20，且与 10 点击率预估强相关）
- **Result Page**：首屏、交互（2 章指标 + 实验分析）
- **Feedback Loop**：日志 → 训练数据 → 离线评估 → A/B（2、4、5、20）

当你读每一章时，都问自己两个问题：

1. 这章解决链路里哪个环节的“信息缺失”？（比如相关性是理解 q-d 语义匹配；时效性是理解 q 对新内容偏好）
2. 这章产出的信号会怎么进入最终排序？（是召回过滤、排序特征、还是重排加权）

---

## 5. 本章练习（让目录变成可执行的计划）

1. 任选一个你常用的 APP（小红书/抖音/B 站/淘宝/百度），画出“用户输入 query → 展示结果页”的链路，标出你认为的：QP/召回/排序/过滤/重排/推词位置。
2. 用你画的链路回答：
   - 如果你只能改一个模块，优先改哪个？为什么？
   - 你会用哪些指标证明“变好”？（至少包含 1 个北极星指标、2 个中间指标、1 个人工评估维度）
3. 根据目录，选 3 章作为你接下来一周的阅读目标，并写下每章的“可验证输出物”（例如：写出 NDCG 的推导与一个 toy 示例）。
