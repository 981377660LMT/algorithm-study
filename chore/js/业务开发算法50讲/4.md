## 35 ｜洗牌算法：随机的哲学，如何用程序来洗一副牌？

-

## 36 ｜分布式事务：如何理解两阶段提交？

现在解决分布式事务的手段有很多种，一种最常见的思路就是两阶段提交（Two-Phase Commit，2PC）。

### 2PC

`首先要明确一点，分布式系统中的每个节点，在没有通信的情况下是没有办法获得全局的信息`，也就是说某个参与事务的节点并没有办法直接知道其他事务的执行情况。因此引入一个掌握全局信息的协调者来进行事务的最终提交。
两阶段提交协议，把整个分布式事务的提交分成了两个阶段：投票、提交。

- 投票
  ![alt text](image-20.png)
- 提交
  ![alt text](image-21.png)

## 37 ｜ Thrift 编码方法：为什么 RPC 往往不采用 JSON 作为网络传输格式？

JSON 序列化采用了文本而非二进制的传输方式，并且在序列化过程中引入了冗长的成员变量名等数据，空间利用率就很差；
加上使用方还需要对 JSON 文本进行解析和转化，很耗费 CPU 资源，因此，即使 JSON 本身非常流行，也并没有成为主流的 RPC 序列化协议。
而 Thrift 或者 Protobuf 的协议，采用二进制编码，并引入了 schema 文件，去掉了许多冗余的成员变量信息，直接采用`字段编号进行成员标识`，效率很高，得到了广泛的应用。

## 38 ｜倒排索引：搜索引擎是如何做全文检索的？

-

## 39 ｜ Geohash：点外卖时我们是如何查找到附近餐厅的？

## 40 ｜垃圾回收：现代语言是如何自动管理回收内存的？
