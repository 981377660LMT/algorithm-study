# 工作区信任

链接：https://code.visualstudio.com/blogs/2021/07/06/workspace-trust

## 深入分析

### 1. 从“打地鼠”到“全局治理”

现代编辑器不仅是阅览器，更是一个会自动执行辅助代码（Linter、Task、NPM Script）的环境。这篇文章深刻探讨了“供应链攻击”在 IDE 中的风险。VS Code 从频繁弹出单个插件的权限窗口（打地鼠模式），转向了全局的 **Workspace Trust** 管理。

### 2. 受限模式 (Restricted Mode) 的平衡艺术

Workspace Trust 的核心不是“禁止”，而是“分级”。在不可信的项目中，VS Code 会禁用所有可能执行任意代码的功能（如 Debugger、自动编译），但保留语法高亮和文件查看。这种“先安全阅读，再评估信任”的流程极大提升了安全性。

### 3. 开发者体验的妥协与优化

为了减少对开发者流（Flow）的干扰，团队引入了“父目录信任”机制。如果你信任 `~/code`，那么其下数千个子项目将自动获得权限。这种基于路径的白名单设计，体现了在极致安全与极低干扰之间的工程权衡。
