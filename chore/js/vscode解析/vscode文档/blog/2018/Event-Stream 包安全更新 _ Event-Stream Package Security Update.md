# Event-Stream 包安全更新

链接：https://code.visualstudio.com/blogs/2018/11/26/event-stream

## 一针见血的分析

这篇文章记录了 Node.js / NPM 生态史上最著名的**供应链攻击（Supply Chain Attack）**事件之一，以及 VS Code 团队的应对策略：

1.  **开源信任的脆弱性**：事件起因于流行的 NPM 包 `event-stream` 在作者易主后，被恶意维护者注入了名为 `flatmap-stream` 的木马，旨在窃取特定的比特币钱包。这打破了“开源即安全”的盲目信任，揭示了依赖库即使被广泛使用，也可能因为维护权的交接而瞬间变质。
2.  **间接依赖的治理挑战**：VS Code 核心及其部分扩展（如 GitHub 扩展）间接依赖了该包。这次事件推动了 VS Code 团队对依赖审查机制的升级，包括引入更严格的扫描工具和对关键路径依赖的锁定（Pinning）。
3.  **极速响应与负责任的透明度**：在确认风险后的数小时内，VS Code 团队即发布了安全更新并向社区通报。这种透明度不仅是技术上的补救，更是对用户信任的维护。
4.  **生态系统的教训**：此事件不仅改变了微软内部对第三方代码的使用规范，也引发了整个 JavaScript 社区对“微型包（Micro-packages）”过度依赖的反思。它标志着软件工程界开始正视**软件物料清单（SBOM）**和自动化安全审计的重要性。

## 摘要

2018年11月，GitHub 上流行的 `event-stream` 包被发现包含恶意代码。由于 VS Code 的部分组件存在此间接依赖，微软迅速发布了安全更新以移除受影响的模块。这次事件成为了开源供应链安全的一个经典教训，促使 VS Code 团队进一步加强了对其庞大依赖树的安全监控和审计流程。
