精简易记整理如下：

---

## 1. OLTP vs. OLAP

- **OLTP**：短小频繁的增删改查，事务型，面向业务操作。
- **OLAP**：长时间、只读、复杂分析型查询，面向数据分析。

---

## 2. 数据仓库建模

- **星型模型（Star Schema）**：中心是事实表，周围是维度表，结构简单，查询快。
- **雪花模型（Snowflake Schema）**：维度表进一步规范化，节省空间，但查询更复杂。

---

## 3. 查询执行模型

- **Push**：把查询推到数据所在节点，局部处理后只传结果，省带宽。
- **Pull**：把数据拉到执行节点再处理，简单但可能传输量大。

---

## 4. 分布式 Join 策略

- **表复制**：小表复制到每个节点，本地 join。
- **按 join key 分区**：两表按 join key 分区，对应分区本地 join。
- **广播小表**：两表分区方式不同时，把小表广播到所有节点。
- **Shuffle**：都没按 join key 分区时，重分区（shuffle）后 join。

---

## 5. 半连接（Semi-Join）

- 只返回左表满足 join 条件的行，减少网络传输量。
- SQL：`SELECT R.id FROM R WHERE EXISTS (SELECT 1 FROM S WHERE R.id = S.id)`

---

## 6. 云数据库与数据湖

- **云数据库**：DBaaS，托管型或云原生（如 Snowflake、BigQuery）。
- **Serverless**：按需分配计算资源，空闲时自动释放。
- **数据湖**：存储结构化/半结构化/非结构化数据，无需预定义 schema。
- **通用格式**：Parquet、ORC、Arrow 等，跨系统共享数据更方便。

---

## 7. 查询容错

- 多数分布式 OLAP 系统节点出错时，整个查询失败。
- 可通过中间结果快照提升容错，但实现复杂。

---

**记忆口诀**：  
OLTP快小改，OLAP慢大查；星型快，雪花省；Push省带宽，Pull省事；Join分区/复制/广播/Shuffle；云数仓+数据湖，格式通用易共享。
