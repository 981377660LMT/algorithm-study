1. 公平博弈中的 grundy 数

- grundy 数と Nim における石の数は同じ意味
- Grundy 数を以下のように定める
  負け状態の Grundy 数は 0
  ある状態の Grundy 数はそこから遷移可能な状態の Grundy 数の中で最小の非負整数
- 2 人でやるようなゲームでは Grundy 数に帰着させることで Nim の原理で解ける場合がある
- 将石头堆拆分成多个堆,当前堆的 grundy 数等于子状态的 grundy 数的异或和
- 規則性
  ある周期になっている
  `NIM 的变形问题:每次可以在一堆石头里取 1-k 个`
  如果把转移全部算出来会 TLE，其实此时 grundy 数是有周期性的
  **个数为 i 的石头堆的 grundy 数 为 i%(k+1)**
  **特别地,无限制取石头的 nim 游戏,个数为 i 的石头堆的 grundy 数为 i**

  有时候,sg 值不好求时(n 太大)可以打表观察规律

- 树上公平删边游戏(披着皮的 nim 游戏)
  https://blog.sina.com.cn/s/blog_8f06da990101252l.html
  树上有很多竹子
  竹子:大小为 i 的石头堆

  - 克朗原理:
    对于树上的某一个点，ta 的分支可以转化成以这个点为根的一根竹子，这个竹子的长度就是 ta 各个分支的边的数量的异或和
  - 费森原理
    环上的点可以融合，且不改变图的 SG 值；奇数边的环等价成一条边，偶数边的环等价成一个点
    tarjan 无向图缩点

  - 个人理解:
    在一个边数为 i 的链上删边 = 在一个大小为 i 的石头堆里取石头
    父结点的 grundy 数 = 各个石头堆大小(子状态的 grundy 数)的异或和 = 树节点的各个分支的边的数量的异或和

1. 後退解析

- 状態の遷移先に負け状態が 1 つでもあれば、相手を負けにできるので勝ち状態
  逆に遷移先が全て勝ち状態ならば、自分は負けるしか無い

3. 特殊な勝ち負け

- 偶奇を使う
- 相手の行動を真似ると負けない
  例えば、点対称に同様に置いていくと必ず置けるから、先手が置けるなら後手が必ず置けるので、後手必勝
