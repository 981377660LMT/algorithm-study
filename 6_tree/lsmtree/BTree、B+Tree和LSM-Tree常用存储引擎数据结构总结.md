# BTree、B+Tree 和 LSM-Tree 常用存储引擎数据结构总结

https://jasonkayzk.github.io/2022/11/05/BTree%E3%80%81B-Tree%E5%92%8CLSM-Tree%E5%B8%B8%E7%94%A8%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E6%80%BB%E7%BB%93/

1. 数据库三大模块

   - 存储引擎
   - 查询处理器（SQL 解析器、查询优化器、查询执行器）
   - 事务管理器

   存储模块和其他模块耦合较少，因此可以将其抽象为一个专用的数据库组件，即：`存储引擎`
   ![alt text](image-2.png)

2. 由于存储引擎是基于文件系统的，因此存储引擎是将一条条数据转换为具体的文件进行存储；
   很多数据库的 /data 目录下就存储有数据文件；

   一般来说，存储引擎要存储：

   - 数据文件；
   - 索引文件；

   通常情况下要重点关注的是索引文件的组织形式！
   目前，BTree 和 LSM-Tree 这两类存储结构在存储引擎中被使用的最为广泛，他们也分别对应了：

   - In-place update（BTree、B+Tree）：就地更新结构，直接覆盖旧记录来存储更新内容；
     - 随机磁盘 IO
   - Out-of-place update（LSM-Tree）：异位更新结构，会将更新的内容存储到新的位置，而不是直接覆盖旧的条目；
     - 顺序磁盘 IO
