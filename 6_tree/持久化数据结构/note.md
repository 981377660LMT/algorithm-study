## 解决的问题

可以存下来数据结构的所有历史版本
类似 git 只记录 diff，每一个版本比前一个版本多 logn 级别的数据

## 可持久化数据结构（Persistent data structure）每次修改都会保留其自身每一个历史版本

- 部分可持久化¶
  每个历史版本都可以访问，但只有最新的版本才可以修改

- 完全可持久化¶
  每个历史版本都可以访问和修改

- 融合可持久化¶
  每个历史版本都可以访问和修改，且支持通过合并两个历史版本来创建新版本

## 可持久化的前提：本身的拓扑结构在操纵过程中不变(平衡树就不行)

1. Trie 的持久化
2. 线段树的可持久化(主席树)
   主席树、又称为可持久化线段树，实际上是记录了每一次更新时的版本信息，题型基本上都是结合离散化，最经典的用法是求区间第 K 大/小的数

## 区间第 k 小问题

- 划分树
- 树套树(线段树+平衡树)，即线段树+sortedList，支持修改
- 可持久化线段树，不支持修改 nlogn (主席树)
