# 各大oj上，矩形面积并有哪些题目，面积并一般的解法是什么

在各大在线判题系统（OJ）中，与矩形面积并相关的经典题目及解法如下：

---

### **一、常见矩形面积并题目**

1. **力扣 223. 矩形面积**

   - **描述**：计算两个矩形覆盖的**总面积**（若重叠则需去重）。
   - **输入**：两个矩形的左下、右上顶点坐标。
   - **解法**：计算两矩形面积之和，再减去重叠部分的面积（若有）。

2. **力扣 850. 矩形面积 II**

   - **描述**：计算多个矩形覆盖的**总面积**（所有重叠区域仅计算一次）。
   - **解法**：使用扫描线算法或离散化+平面扫描法处理多矩形重叠问题。

3. **力扣 218. 天际线问题**

   - **描述**：通过矩形轮廓求覆盖区域的边界线。
   - **解法**：扫描线算法结合优先队列处理事件点。

4. **力扣 836. 矩形重叠**

   - **描述**：判断两个矩形是否重叠。
   - **解法**：通过坐标投影判断是否有交集。

5. **其他OJ题目**
   - **HDU 1542**：矩形面积并（经典扫描线问题）。
   - **POJ 1151**：计算多个矩形的面积并。

---

### **二、矩形面积并的通用解法**

#### **1. 两矩形面积并**

**核心思路**：计算两矩形总面积，减去重叠部分面积。  
**步骤**：

1. 分别计算两矩形面积：\( S_1 = (x_2-x_1)(y_2-y_1) \)，\( S_2 = (x_4-x_3)(y_4-y_3) \)。
2. 计算重叠区域：
   - 交集左下角：\( (max(x_1, x_3), max(y_1, y_3)) \)
   - 交集右上角：\( (min(x_2, x_4), min(y_2, y_4)) \)
3. 判断是否重叠：若交集宽度或高度≤0，则面积为0；否则计算交集面积 \( S\_{overlap} \)。
4. 总面积：\( S = S*1 + S_2 - S*{overlap} \) 。

#### **2. 多矩形面积并（扫描线算法）**

**核心思路**：将矩形投影到坐标轴，通过事件分解和区间合并计算覆盖面积。  
**步骤**：

1. **离散化**：将矩形的左右边作为事件点，按x坐标排序。
2. **垂直扫描**：从左到右处理每个垂直边，记录当前y轴覆盖的区间。
3. **区间合并**：通过线段树或有序列表维护y轴的有效覆盖长度。
4. **累加面积**：相邻事件点的x距离 × 当前有效y区间的总长度。

#### **3. 柱状图投影法**

**适用场景**：二维矩阵中求最大矩形面积（如力扣 85. 最大矩形）。  
**步骤**：

1. 将每行视为柱状图的基底，高度为该列连续1的数量。
2. 对每一行应用“柱状图中最大矩形”算法（单调栈法）。

---

### **三、易错点与优化技巧**

1. **坐标处理**：注意矩形坐标的输入顺序（左下、右上可能需标准化）。
2. **精度问题**：浮点数计算时需考虑误差（如力扣223的整数坐标可避免此问题）。
3. **扫描线优化**：使用线段树或平衡树维护区间，时间复杂度可降至 \( O(n \log n) \) 。
4. **边界条件**：矩形完全包含或完全分离时需特殊处理。

---

### **四、扩展学习**

- **力扣专题**：参考扫描线算法在矩形问题中的应用（如力扣 391. 完美矩形）。
- **代码实现**：力扣223的Java代码示例（见网页8），HDU 1542的C++实现（需自行搜索）。

如需具体题目代码或更详细解析，可访问对应OJ平台或参考链接中的开源实现。
