E. 地震

时间限制: 1 秒
内存限制: 1024 MB
城市是由 $0$ 到 $n - 1$ 编号的 $n$ 个单元组成的序列。最初，所有单元都是空的。接着依次发生 $m$ 个事件，事件分为两种类型：

建造: 在单元 $i$ 建造一个强度为 $h$ 的建筑物（如果该单元通过已有建筑物，它会被拆除并被新的替换）。
地震: 在区间 $[l, r - 1]$ 发生强度为 $p$ 的地震，它会摧毁所有强度不大于（$\le$）$p$ 的建筑物。
你的任务是针对每次地震，输出它摧毁了多少建筑物。

输入: 第一行包含两个整数 $n$ and $m$ ($1 \le n, m \le 10^5$)。 接下来的 $m$ 行描述事件：

1 i h: 在单元 $i$ 建造强度为 $h$ 的建筑 ($0 \le i < n, 1 \le h \le 10^9$)。
2 l r p: 在区间 $[l, r-1]$ 发生强度为 $p$ 的地震 ($0 \le l < r \le n, 0 \le p \le 10^9$)。
输出: 对于每个第二种类型的事件，打印被摧毁的建筑物数量。

---

见 `RightMostLeftMostQuery-线段树`
