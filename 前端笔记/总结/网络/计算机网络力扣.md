1. 物联网淑惠试用：
   物=>物理层:网卡，比特流；数模模数转换；光电信号转换
   联=>数据链路层：交换机，比特流变为帧
   网=>网络层 **建立"主机到主机"的通信**，网络地址=>物理地址;路由器;ip=网络号+主机号寻址
   淑=>传输层 **建立"端口到端口"的通信**,不同进程间通信
   惠=>会话层
   试=>表示层
   用=>应用层 **不同应用之间的通信,规定应用程序的数据格式**
   OSI 七层模型体现了单一职责原则
2. 基于 TCP/IP 的参考模型将协议分成四个层次(TCPIP 四层模型用得更多)
   应用层(HTTP/SMTP/FTP)、传输层(TCP/UDP)、网络层(IP)、数据链路层(ARP/Ethernet)
   **应用层是工作在操作系统中的用户态，传输层及以下则工作在内核态。**
3. 数据封装过程
   传输层则向网络层传递该报文段，网络层增加了如源和目的端系统地址等网络层首部信息，生成了网络层数据报。该数据报接下来被传递给链路层，在数据链路层数据包添加发送端 MAC 地址和接收端 MAC 地址后被封装成数据帧，在物理层数据帧被封装成比特流
   **应用数据报 → 传输层报文段(TCP Segment) →ip 成组 → 链路层成帧 → 物理层比特流；**

4. 应用层

- HTTP 长连接短连接使用场景是什么
  长连接：多用于操作频繁，点对点的通讯，而且客户端连接数目较少的情况。**例如即时通讯、网络游戏等。**
  短连接：用户数目较多的 Web 网站的 HTTP 服务一般用短连接。例如京东，淘宝这样的大型网站一般客户端数量达到千万级甚至上亿，若采用长连接势必会使得服务端大量的资源被无效占用，所以一般使用的是短连接。
  **需要区分 TCP 长连接和 HTTP 长连接**
  HTTP 长连接通过 Client 和 Server 的一些关闭策略实现
  TCP 长连接是通过 HTTP1.1 头部信息 KeepAlive 实现

- 怎么知道 HTTP 的报文长度:知道就在响应中返回 Content-Length, 否则将内容分块进行发送, 这时候就不知道了
  对于小点的文件，直接给出 content-length,也就是本次返回的数据长度
  对于大文件，使用 Transfer-Encoding:chunked 字段，不传输数据长度，客户端只知道是分组传输，这也是订好了协议，客户端收到了会进行组装
- GET 的长度限制是多少
  要支持 IE，则最大长度为 2083byte，若只支持 Chrome，则最大长度 `8KB`
  URL 本身并没有对数据的长度进行限制，真正限制 GET 长度的是浏览器。因此对于特定的浏览器，GET 的长度限制不同。

- HTTP 是不保存状态的协议,如何保存用户状态
  基于 Session 实现的会话保持：采用中间件，例如 Redis，我们通过将 Session 的信息存储在 Redis 中，使得每个服务器都可以访问到之前的状态信息
  基于 Cookie 实现的会话保持：Cookie 被禁用了怎么办？若遇到 Cookie 被禁用的情况，则可以通过重写 URL 的方式将会话标识放在 URL 的参数里，也可以实现会话保持。

- HTTP/1.1 和 HTTP/1.0 的区别
  五个层面：
  长短连接（keep-alive、基于 tcp、应用场景）；
  缓存策略（更加灵活、增加）： HTTP/1.0 中主要使用 header 里的 if-modified-Since, Expries 来做缓存判断的标准；HTTP/1.1 请求头中添加了更多与缓存相关的字段，例如 Entity-tag, If-Unmodified-Since, If-Match, If-None-Match

- HTTP/1.X 和 HTTP/2.0 的区别
  头部压缩:将字段记录到一张表中，头部只需要存放字段对应的编号就行，用的时候只需要拿着编号去表里查找就行(HPack)
  多路复用 Stream
  二进制分帧(文本=>二进制)
  服务端推送:比如客户端请求一个 html 文件，服务器发送完之后会把和这个 html 页面相关的静态文件也发送给客户端

- DNS 的作用和原理
  DNS 既使用 TCP 又使用 UDP。
- 为什么 fidder，charles 能抓到你的包
  就是中间人攻击
  这就需要本地能够信任抓包工具提供的证书（也就是需要额外安装一个证书）
- 如果你访问一个网站很慢，怎么排查和解决
- 网页解析全过程【用户输入网址到显示对应页面的全过程】

5. 传输层

- 第 2 次握手传回了 ACK，为什么还要传回 SYN
  ACK 是为了告诉客户端发来的数据**已经接收无误**，而传回 SYN 是为了把自己的**初始序列号（Seq）同步给客户端**。
- 为什么要四次挥手
  A 和 B 打电话，通话即将结束后，A 说“我没啥要说的了”，B 回答“我知道了”，但是 B 可能还会有要说的话，A 不能要求 B 跟着自己的节奏结束通话，于是 B 可能又巴拉巴拉说了一通，最后 B 说“我说完了”，A 回答“知道了”，这样通话才算结束。
- TCP 是如何保证可靠性的
  **超时重传**:TCP 发出一个报文段后，它启动一个定时器，等待目的端确认收到这个报文段。如果超过某个时间还没有收到确认，将重发这个报文段。
  **拥塞控制**: 当网络某个节点发生拥塞时，减少数据的发送。

6. 网络层
   IP 协议的寻址作用是告诉我们去往下一个目的地该朝哪个方向走，路由则是根据「下一个目的地」选择路径。**寻址更像在导航，路由更像在操作方向盘。**;路由选择协议

7. 数据链路层
   每一台设备的网卡都会有一个 MAC 地址，它就是用来唯一标识设备的。路由器计算出了下一个目的地 IP 地址，再通过 ARP 协议找到该目的地的 MAC 地址，这样就知道这个 IP 地址是哪个设备的了。

- 为什么有了 IP 地址还需要 MAC 地址
  接入子网后才有 ip 地址，没接入之前用 mac 地址区分
  MAC 地址是不变的，IP 地址会变
- 为什么有了 MAC 地址还需要 IP 地址
  光有 MAC 地址的话，寻址困难。IP 地址和地域有关，可以分区域寻址，效率更高。

8. 物理层
   当数据准备要从设备发送到网络时，需要**把数据包转换成电信号**，让其可以在物理介质中传输，这一层就是物理层(Physical Layer) ，它主要是为数据链路层提供二进制传输的服务。
