1. 微服务背景下，一个系统被拆分为多个服务，但是像安全认证，流量控制，日志，监控等功能是每个服务都需要的，**没有网关的话，我们就需要在每个服务中单独实现**，这使得我们做了很多重复的事情并且没有一个全局的视图来统一管理这些功能。

`综上：一般情况下，网关都会提供请求转发、安全认证（身份/权限认证）、流量控制、负载均衡、容灾、日志、监控这些功能。`

上面介绍了这么多功能，实际上，网关主要做了一件事情：**请求过滤 。**

2. 何为 RPC?
   RPC（Remote Procedure Call） 即远程过程调用，通过名字我们就能看出 RPC 关注的是远程调用而非本地调用。
   为什么要 RPC ？ 因为，两个不同的服务器上的服务提供的方法不在一个内存空间，所以，需要通过网络编程才能传递方法调用所需要的参数。并且，方法调用的结果也需要通过网络编程来接收。但是，如果我们自己手动网络编程来实现这个调用过程的话工作量是非常大的，`因为，我们需要考虑底层传输方式（TCP 还是 UDP）、序列化方式等等方面。`
   一言蔽之：`RPC 的出现就是为了让你调用远程方法像调用本地方法一样简单。`  
   原理就是序列化和反序列化 RpcRequest/RpcResponse

3. 服务之间的调用为啥不直接用 HTTP 而用 RPC？(这是一种错误的观点)
   RPC 只是一种设计而已
   `RPC 只是一种概念、一种设计`，就是为了解决 不同服务之间的调用问题, 它一般会包含有 `传输协议` 和 `序列化协议` 这两个。
   `但是，HTTP 是一种协议`，**RPC 框架可以使用 HTTP 协议作为传输协议或者直接使用 TCP 作为传输协议，使用不同的协议一般也是为了适应不同的场景。**
   用 HTTP 请求 当然可以，但是可能会比较慢而且一些优化做的并不好。 RPC 的出现就是为了解决这个问题。

   **RPC 框架功能更齐全**
   成熟的 RPC 框架还提供好了“服务自动注册与发现”、"智能负载均衡"、“可视化的服务治理和运维”、“运行期流量调度”等等功能，这些也算是选择 RPC 进行服务注册和发现的一方面原因吧！

4. 一个常见的错误观点
   首先要否认一点 HTTP 协议相较于自定义 TCP 报文协议，增加的开销在于连接的建立与断开。HTTP 协议是支持连接池复用的，也就是建立一定数量的连接不断开，并不会频繁的创建和销毁连接。二一要说的是 HTTP 也可以使用 Protobuf 这种二进制编码协议对内容进行编码，因此二者最大的区别还是在传输协议上。

5. 什么是消息队列
   我们可以把消息队列看作是一个存放消息的容器，当我们需要使用消息的时候，直接从容器中取出消息供自己使用即可。
   使用消息队列主要是为了通过`异步`处理提高系统性能和`削峰`、`降低系统耦合性`
