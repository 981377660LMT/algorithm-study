1. 我们希望能监视 DOM 树的变动，然后做一些相关的操作。比如监听元素被插入 DOM 或从 DOM 树中移除，然后添加相应的动画效果。或者在`富文本编辑器中输入特殊的符号，如 # 或 @ 符号时自动高亮后面的内容等`。
2. 利用 MutationObserver API 我们可以监视 DOM 的变化。DOM 的任何变化，比如节点的增加、减少、属性的变动、文本内容的变动，通过这个 API 我们都可以得到通知。
   MutationObserver 有以下特点：

   1. 它等待所有脚本任务执行完成后，才会运行，它是 异步触发的。即会等待当前所有 DOM 操作都结束才触 发，这样设计是为了应对 DOM 频繁变动的问题。
   2. 它把 DOM 变动记录`封装成一个数组进行统一处理`， 而不是一条一条进行处理。
   3. 它既可以观察 DOM 的所有类型变动，也可以指定只 观察某一类变动。

3. 使用场景
   **语法高亮**
   在回调函数中通过获取 mutation 对象的 addedNodes 属性来进一步获取新增的 DOM 节点。然后我们遍历新增的 DOM 节点，判断新增的 DOM 节点是否为代码段，如果满足条件的话则进行高亮操作。
   **监听元素的 load 或 unload 事件**
   **富文本编辑器**
   发现用户输入 # 时自动对输入的内容进行高亮处理。
   此外，MutationObserver API 在 Github 上的一个名为 `Editor.js` 的项目中也有应用。
   在 Editor.js 编辑器内部，它通过 MutationObserver API 来监听富文本框的内容异动，然后触发 change 事件，使得外部可以对变动进行响应和处理。
   **水印**
   当然利用 MutationObserver API 提供的强大能力，我们还可以有其他的应用场景，`比如防止页面的水印元素被删除，从而避免无法跟踪到 “泄密” 者，`
   `打开控制台也删不掉的元素=>MutationObserver 干的`
   大概的逻辑就是 MutationObserver 监听这个水印的变化，如删除、修改 attr、新增子节点，然后直接重新渲染一个和原本一模一样的元素出来，实现了“你就算打开控制台也改不了这个节点”的效果
   如何战胜它
