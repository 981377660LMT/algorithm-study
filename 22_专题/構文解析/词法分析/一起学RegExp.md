https://nxtech.gitbook.io/regexp/#guan-yu-ben-shu

---

浅谈正则表达式原理
http://www.alloyteam.com/2019/07/13574/

正则表达式的回溯灾难
传统正则引擎分为 NFA（非确定性有限状态自动机），和 DFA（确定性有限状态自动机）。
大部分的正则引擎是 NFA 的，例如 python/js/java，少部分是 DFA 的，例如 golang 和 erlang
https://leetcode.cn/problems/regular-expression-matching/solution/

- 如何减少或避免回溯

  - 优化正则表达式：时刻注意回溯造成的性能影响。
  - **使用 DFA 正则引擎的正则表达式**
    DFA(速度快，功能弱)
    正则里面的 DFA 引擎实际上就是把正则表达式转换成一个图的邻接表，然后通过表的形式判断一个字符串是否匹配该正则。
    优点：不管正则表达式写的再烂，匹配速度都很快
    缺点：高级功能比如捕获组和断言都不支持

    NFA(速度慢，功能强)
    正则里面 NFA 引擎实际上就是在语法解析的时候，构造出的一个有向图。然后通过深搜的方式，去一条路径一条路径的递归尝试。
    优点：功能强大，可以拿到匹配的上下文信息，支持各种断言捕获组环视之类的功能
    缺点：对开发正则功底要求较高，需要注意回溯造成的性能问题
