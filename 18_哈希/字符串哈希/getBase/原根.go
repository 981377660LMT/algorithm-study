package main

import (
	"fmt"
	"math/rand"
)

func main() {
	fmt.Println(GetBase(-1))
	fmt.Println(GetBase(-10))
}

// 原始根减少哈希冲突.
var BASE = [...]uint{
	37,
	368789449308,
	1852846309939,
	2102001800968,
	3135613673210,
	3573032120887,
	5162739766272,
	5981870488812,
	6752369793223,
	7700519273161,
	9299907180755,
	11220764879935,
	13661711890983,
	15631445301958,
	16191225434172,
	17992903178549,
	18444241224682,
	19542925735378,
	19904897765689,
	21026451511176,
	22352021740951,
	24614951263776,
	27926655860868,
	28668013049122,
	30731186880431,
	31200962432156,
	32525487701018,
	33195339867934,
	34424470708402,
	35347625139334,
	35538747926358,
	35582135363245,
	38299872411055,
	39611488430368,
	39640191188389,
	39687840340713,
	39836964525889,
	40494045054405,
	41823714436906,
	42464338718658,
	45187222874290,
	46814471362845,
	46843887310593,
	47056835891494,
	47120526022187,
	47245858682046,
	48060903655667,
	49148836433744,
	50740362522447,
	52092287614654,
	52963661986595,
	53909010970445,
	54034266176372,
	56610716098501,
	57249192258849,
	58159353606107,
	58265735653900,
	59020252957603,
	60035782095813,
	60299921283817,
	61190794855394,
	64063255668212,
	66214433217808,
	66216096723703,
	67780144096898,
	67999945148190,
	68256362212749,
	70499107424943,
	70862334850448,
	72011752626580,
	73649428254369,
	75449903238572,
	76548613569443,
	78278540023804,
	79009260751099,
	80099977091766,
	80465655308476,
	83855206194524,
	92017907719628,
	92059595206125,
	92062781387242,
	92471692941349,
	92498823585506,
	93431743820951,
	94923662069170,
	95089788205304,
	96760468270869,
	97437512252944,
	98969648473851,
	101584354600387,
	103992426667469,
	104570401503026,
	105149646660817,
	106163858477891,
	106970744616241,
	107019066406563,
	107140499986715,
	108680210682305,
	109288626609043,
	110027486424350,
}

// 获取字符串哈希的base.
// seed为-1时随机选择一个base.
func GetBase(seed int) uint {
	if seed == -1 {
		seed = rand.Intn(len(BASE))
	}
	seed = seed % len(BASE)
	if seed < 0 {
		seed += len(BASE)
	}
	return BASE[seed]
}
