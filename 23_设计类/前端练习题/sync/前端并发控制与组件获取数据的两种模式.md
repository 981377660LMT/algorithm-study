# 前端并发控制与组件获取数据的两种模式

1. 获取数据时阻塞，`获取完后`渲染组件
2. 获取数据时不阻塞，先渲染组件，数据获取完后`更新`组件

这两种方式本质上反映了“同步渲染”和“异步渲染”的区别：

1. **阻塞获取数据再渲染（同步渲染）**

   - 组件渲染前，必须先拿到数据。
   - 渲染过程被“数据获取”阻塞，用户需要等待。
   - 优点：组件初·次渲染时数据齐全，页面不会闪烁或出现“加载中”状态。
   - 缺点：加载慢，用户体验较差，尤其是数据获取慢时。

   同步需要加锁，锁的两种表现：等待(无 disable)、·打回(disable/loading)

2. **先渲染组件再获取数据（异步渲染）**
   - 组件先渲染（通常显示 loading 或空状态），数据获取完成后再更新组件。
   - 渲染过程不被数据获取阻塞，页面更快可见。
   - 优点：提升首屏速度，用户更快看到内容。
   - 缺点：需要处理“加载中”或“无数据”状态，数据到达前页面内容不完整。

**本质区别**：

- 阻塞渲染强调“数据优先”，保证内容完整性，但牺牲速度。
- 非阻塞渲染强调“速度优先”，保证页面快速响应，但需要处理数据未到时的状态。

选择哪种方式，取决于对“速度”和“完整性”的权衡，以及具体业务场景需求。

---

TODO: 并发控制
