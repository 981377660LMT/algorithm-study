# 处理复杂的交互时的思路

复杂的功能，也要有**代码架构**，模型与视图的分离，不要因为是 UI 交互就不考虑架构。
将问题分层处理，实现关注点分离。

1. 模型与视图分离
   UI 层（组件）<---> 模型层（OptionManager）<---> 数据源
2. 状态设计与数据流向
   哪些是外部输入状态（如 API 获取的 options）
   哪些是内部维护状态（如自定义选项）
   状态之间有什么依赖关系
3. 可测试性
   OptionManager 可以独立于 UI 组件进行单元测试
   验证各种边界情况不需要完整渲染 UI
   **案例：多维表格视图 MVP 架构的出发点，一个是多视图多端代码复用，另一个是易于测试**

整体上是 `用户操作 -> 更新模型 -> 模型通知视图 -> 视图更新`

---
